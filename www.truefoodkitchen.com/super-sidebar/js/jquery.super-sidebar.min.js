!function(a){"use strict";function b(b){var e=d(b);return this.each(function(){function b(b){var c=b.children();c.each(function(b){a(this).hasClass("sb-sub")?h(this,c.eq(b+1)):d(this)})}function d(b){var c,d,g,h,i,j=a(b),l=j.children("a"),m=l.children(".sb-icon"),n=l.children(".sb-label"),o=null,p='<div class="sb-mask"></div>',r=v?"right":"left",s=40,t=!1,u={},w={},x={},y=e.labelAnim.show[0],z=e.labelAnim.show[1],A=e.labelAnim.hide[0],B=e.labelAnim.hide[1];if(e.labelsOn&&n.length){switch(d=f(m.css("width")),g=n.outerWidth(!0),"round"!==e.shape&&"rounded"!==e.shape||(t=!0),e.labelConnected||!e.labelSpace&&"round"!==e.shape&&"rounded"!==e.shape&&"rounded-out"!==e.shape||(o=a('<div class="sb-hit"></div>').appendTo(l)),e.labelEffect){case"fade":u={opacity:0},w={opacity:1},n.css(u),h=function(){o&&o.addClass("sb-show"),n.velocity("stop").addClass("sb-show").velocity(w,y,z)},i=function(){n.velocity("stop").velocity(u,A,B,function(){n.removeClass("sb-show"),o&&o.removeClass("sb-show")})};break;case"slide-out":case"slide-out-fade":c=l.wrap(p).parent(),c.css("width",d),t&&c.addClass("sb-off"),u[r]=-g+d,e.labelConnected?w[r]=0:w[r]=d,"slide-out-fade"===e.labelEffect&&(u.opacity=0,w.opacity=1),n.css(u),h=function(){c.css("width",d+g),t&&c.removeClass("sb-off"),o&&o.addClass("sb-show"),n.velocity("stop").addClass("sb-show").velocity(w,y,z)},i=function(){n.velocity("stop").velocity(u,A,B,function(){n.removeClass("sb-show"),c.css("width",d),t&&c.addClass("sb-off"),o&&o.removeClass("sb-show")})};break;case"slide-in":u={opacity:0},u[r]=d+s,w={opacity:1},w[r]=d,n.css(u),h=function(){o&&o.addClass("sb-show"),n.velocity("stop").addClass("sb-show").velocity(w,y,z)},i=function(){n.velocity("stop").velocity(u,A,B,function(){n.removeClass("sb-show"),o&&o.removeClass("sb-show")})};break;case"slide-out-out":case"slide-in-in":c=l.wrap(p).parent(),c.css("width",d),t&&c.addClass("sb-off"),"slide-out-out"===e.labelEffect?(u[r]=-g+d,w[r]=d,x[r]=d+s):(u[r]=d+s,w[r]=d,x[r]=-g+d),u.opacity=0,w.opacity=1,x.opacity=0,h=function(){c.css("width",d+g+s),t&&c.removeClass("sb-off"),o&&o.addClass("sb-show"),n.velocity("stop").css(u).addClass("sb-show").velocity(w,y,z,function(){c.css("width",d+g)})},i=function(){c.css("width",d+g+s),n.velocity("stop").velocity(x,A,B,function(){n.removeClass("sb-show"),c.css("width",d),t&&c.addClass("sb-off"),o&&o.removeClass("sb-show")})};break;default:h=function(){o&&o.addClass("sb-show"),n.addClass("sb-show")},i=function(){n.removeClass("sb-show"),o&&o.removeClass("sb-show")}}l.on("mouseenter",h),l.on("mouseleave",i)}var C=l.attr("href");C&&"#"===C.charAt(0)&&l.on("click",function(){return k(C),!1})}function h(c,d){function g(){clearInterval(h)}var d,h,i,j,k,l,c=a(c),m=c.children(".sb-icon"),n=c.children("ul"),o=n.children(),p=null,q='<div class="sb-subhit"></div>',r=e.subPosition[0],s=e.subEffect,t=v?"right":"left",u=o.length,w=f(m.css("width")),x=f(m.css("height")),y=[],z={},A={},B=0,C=e.subAnim.show[0],D=e.subAnim.show[1],E=e.subAnim.hide[0],F=e.subAnim.hide[1];if(b(n),"side"===r&&c.addClass("sb-side"),e.subSpace&&c.addClass("sb-sub-space"),"linear-slide"!==s&&"circular"!==r||c.addClass("sb-posabs"),("under"===r&&"linear-slide"===s||"circular"===r&&"slide"===s||"circular"===r&&"linear-slide"===s)&&o.each(function(b){a(this).css("z-index",100-b)}),d&&(d=a(d),l=f(d.css("margin-top"))),"circular"===r){c.addClass("sb-circular");var G,H,I,J,K=e.subPosition[1],L=e.subPosition[2],M=e.subPosition[3],N=L*Math.PI/180,O=M*Math.PI/180,P=(O-N)/(u-1);o.each(function(b){G=b*P+N,H=Math.round(K*Math.cos(G)),I=Math.round(K*Math.sin(G)),J={top:I},J[t]=H,a(this).css(J),y[b]=[H,I]}),p=a(q).appendTo(c),p.css({width:K+w,height:2*K+w,"border-radius":v?K+"px 0 0 "+K+"px":"0 "+K+"px "+K+"px 0",top:-K}),d.length&&(B=K+3)}else{if("linear-slide"===s){var Q=0;o.each(function(b){var c=a(this);c.css("top",Q),y[b]=Q,Q+=f(c.css("height"))+f(c.css("margin-bottom"))}),n.css({width:w,height:Q})}p=a(q).appendTo(c),"side"===r?p.css({width:w+f(n.css("margin-"+t)),height:x}):p.css({width:w,height:x+f(n.css("margin-top"))}),"under"===r&&d.length&&(B=n.outerHeight(!0)+f(d.css("margin-top"))+f(n.css("margin-top")))}switch(n.addClass("sb-hide"),s){case"fade":z={opacity:0},A={opacity:1},n.css(z),i=function(){n.velocity("stop").removeClass("sb-hide").velocity(A,C,D)},j=function(){n.velocity("stop").velocity(z,E,F,function(){n.addClass("sb-hide")})};break;case"slide":"circular"===r?(z={top:0,opacity:0},z[t]=0,o.css(z),i=function(){n.removeClass("sb-hide"),o.each(function(b){A={top:y[b][1],opacity:1},A[t]=y[b][0],a(this).velocity("stop").velocity(A,C,D)})},j=function(){o.each(function(b){a(this).velocity("stop").velocity(z,E,F,function(){b===u-1&&n.addClass("sb-hide")})})}):("side"===r?(z[t]=0,A[t]=w):(z={top:0},A={top:42}),z.opacity=0,A.opacity=1,n.css(z),i=function(){n.velocity("stop").removeClass("sb-hide").velocity(A,C,D)},j=function(){n.velocity("stop").velocity(z,E,F,function(){n.addClass("sb-hide")})});break;case"linear-fade":z={opacity:0},A={opacity:1},o.css(z),i=function(){n.removeClass("sb-hide"),g(),k=0,h=setInterval(function(){o.eq(k).velocity("stop").velocity(A,C,D),k===u-1?g():k++},e.subAnim.show[2])},j=function(){g(),k=u-1,h=setInterval(function(){o.eq(k).velocity("stop").velocity(z,C,D,function(){0===k&&n.addClass("sb-hide")}),0===k?g():k--},e.subAnim.hide[2])};break;case"linear-slide":var R,S,T;"side"===r?z[t]=-w:"circular"===r?(z={top:0},z[t]=0):z={top:-x},z.opacity=0,o.css(z),i=function(){n.removeClass("sb-hide"),g(),k=0,h=setInterval(function(){"side"===r?A[t]=0:"circular"===r?(A={top:y[k][1]},A[t]=y[k][0]):A={top:y[k]},A.opacity=1,o.eq(k).velocity("stop").velocity(A,C,D),k===u-1?g():k++},e.subAnim.show[2])},j=function(){"side"===r||"circular"===r?(R=0,S=u-1,T=1):(R=u-1,S=0,T=-1),g(),k=R,h=setInterval(function(){o.eq(k).velocity("stop").velocity(z,C,D,function(){k===S&&n.addClass("sb-hide")}),k===S?g():k+=T},e.subAnim.hide[2])};break;default:i=function(){n.removeClass("sb-hide")},j=function(){n.addClass("sb-hide")}}c.on("mouseenter",function(){i(),p&&p.addClass("sb-show"),B&&d.velocity("stop").velocity({"margin-top":B},C,D)}),c.on("mouseleave",function(){j(),p&&p.removeClass("sb-show"),B&&d.velocity("stop").velocity({"margin-top":l},C,D)})}function i(){var b=a(this);b.find(".sb-close").on("click",l);var c=b.find("form");c.length&&j(c)}function j(b){function c(){m||d()}function d(){var b=!0;j.each(function(){var c=a(this),d=!0;""===c.val()&&(b=d=!1),"email"!==c.attr("name")||g(c.val())||(b=d=!1),d||(c.addClass("sb-fielderror"),c.on("focus",function(){a(this).removeClass("sb-fielderror").off("focus")}))}),b?(f(),i("working")):i("formerror")}function f(){m=!0;var c={};j.each(function(){var b=a(this);c[b.attr("name")]=b.val()}),c.to=e.mailTo,a.ajax({type:"POST",url:b.attr("action"),data:c,dataType:"json",success:function(a){a.status?(i("success"),h()):i("error"),m=!1}})}function h(){j.each(function(){a(this).val("")})}function i(a){n?l.removeClass("sb-"+n):l.addClass("sb-showstatus"),l.addClass("sb-"+a),n=a}var j=b.find("input, textarea"),k=b.find(".sb-submit"),l=b.find(".sb-status"),m=(l.children(".sb-sicon"),l.children(".sb-message").children(),!1),n=null;k.on("click",c),b.on("submit",function(a){c(),a.preventDefault()})}function k(b){t.addClass("sb-show"),w=a(b).addClass("sb-show"),p(w)}function l(){t.removeClass("sb-show"),w.removeClass("sb-show"),w=null}function m(){o(),w&&p(w)}function n(){m()}function o(){q(s,e.position,e.offset)}function p(a){q(w,e.windowPosition,e.windowOffset)}function q(b,c,d){if(c){var e,g,h,i=u.width(),j=u.height(),k=b.outerWidth(!0),l=b.outerHeight(!0);"number"==typeof c[0]?e={left:c[0]+d[0]}:"string"==typeof c[0]&&(-1!==c[0].indexOf("%")?(h=f(c[0].split("%")[0]),e={left:h/100*i+d[0]}):e="left"===c[0]?{left:0+d[0]}:"center"===c[0]?{left:(i-k)/2+d[0]}:"right"===c[0]?{right:0+d[0]}:{left:f(c[0])+d[0]}),"number"==typeof c[1]?g={top:c[1]+d[1]}:"string"==typeof c[1]&&(-1!==c[1].indexOf("%")?(h=f(c[1].split("%")[0]),g={top:h/100*j+d[1]}):g="top"===c[1]?{top:0+d[1]}:"center"===c[1]?{top:(j-l)/2+d[1]}:"bottom"===c[1]?{bottom:0+d[1]}:{top:f(c[1])+d[1]}),b.css(a.extend({},e,g))}}var r=a(this);r.data("sb-built")&&c.apply(this),r.data("sb-built",!0);var s=r.children(".sb-bar"),t=r.children(".sb-window"),u=a(window),v=!1,w=null;"right"===e.position[0]&&(v=!0,s.addClass("sb-right")),"square"!==e.shape&&s.addClass("sb-"+e.shape),e.labelConnected&&s.addClass("sb-connected"),"default"!==e.color&&s.addClass("sb-"+e.color),"default"!==e.overColor&&s.addClass("sb-"+e.overColor+"-over"),e.sideSpace&&s.addClass("sb-side-space"),e.buttonSpace&&s.addClass("sb-button-space"),e.labelSpace&&s.addClass("sb-label-space"),"round"===e.windowCorners&&t.addClass("sb-round"),"default"!==e.windowColor&&t.addClass("sb-"+e.windowColor),e.windowShadow&&t.addClass("sb-winshadow"),b(s),t.children(".sb-shadow").on("click",l),t.children(".sb-panel").each(i),m(),u.on("resize.superSidebar",n),r.addClass("sb-ready")})}function c(){return this.each(function(){function b(b){b.children().each(function(){a(this).hasClass("sb-sub")?d(this):c(this)})}function c(b){var c=a(b),d=c.find("a"),e=d.children(".sb-label");d.children(".sb-hit").remove(),c.children(".sb-mask").length&&d.unwrap(),e.removeAttr("style"),d.off("mouseenter mouseleave click")}function d(b){var b=a(b),c=b.children("ul");b.removeClass("sb-side sb-circular sb-sub-space sb-posabs"),c.removeClass("sb-hide"),c.removeAttr("style"),c.children().removeAttr("style"),b.children(".sb-subhit").remove(),b.off("mouseenter mouseleave")}function e(){var b=a(this);b.find(".sb-close").off("click");var c=b.find("form");c.length&&f(c)}function f(b){var c=b.find("input, textarea");b.find(".sb-submit").off("click"),b.off("submit"),c.removeClass("sb-formerror").off("focus"),c.each(function(){a(this).val("")}),b.find(".sb-status").attr("class","sb-status")}var g,h,i=a(this);i.data("sb-built")&&(i.data("sb-built",!1),g=i.children(".sb-bar"),h=i.children(".sb-window"),g.attr("class","sb-bar").removeAttr("style"),h.attr("class","sb-window"),b(g),h.removeClass("sb-show"),h.children(".sb-shadow").off("click"),h.children(".sb-panel").removeClass("sb-show").removeAttr("style").each(e),a(window).off("resize.superSidebar"),i.removeClass("sb-ready"))})}function d(b){var c=a.extend({},h,b);return"string"==typeof c.position&&(c.position=c.position.split("-")),"center"===c.position[0]&&(c.position[0]=h.position[0],e('Bar horizontal position cannot be "center". Horizontal position reset to "left".')),c.position[1]||(c.position[1]=h.position[1]),0!==c.offset&&!1!==c.offset||(c.offset=[0,0]),"square"!==c.shape&&"round"!==c.shape&&"rounded"!==c.shape&&"rounded-out"!==c.shape&&(c.shape="square"),c.labelConnected&&("slide-in"===c.labelEffect||"slide-out-out"===c.labelEffect||"slide-in-in"===c.labelEffect?(c.labelConnected=!1,e('"labelConnected: true" incompatible with "labelEffect: '+c.labelEffect+'". "labelConnected" reset to false.')):c.labelSpace&&(c.labelSpace=!1,e('"labelSpace: true" incompatible with "labelConnected: true". "labelSpace" reset to false.'))),"slide"===c.labelEffect&&(c.labelEffect="slide-out"),"slide-in-fade"===c.labelEffect&&(c.labelEffect="slide-in"),"default"===c.labelAnim&&(i[c.labelEffect]?c.labelAnim=i[c.labelEffect]:c.labelAnim=i.default),"[object Array]"===Object.prototype.toString.call(c.labelAnim)&&(c.labelAnim={show:c.labelAnim,hide:c.labelAnim}),"string"==typeof c.subPosition&&(c.subPosition=[c.subPosition]),"circular"===c.subPosition[0]&&(c.subPosition[1]||(c.subPosition[1]=h.subPosition[1]),void 0===c.subPosition[2]&&(c.subPosition[2]=h.subPosition[2]),void 0===c.subPosition[3]&&(c.subPosition[3]=h.subPosition[3]),c.subSpace&&(c.subSpace=!1)),"default"===c.subAnim&&(c.subAnim=h.SubAnim),"linear-fade"!==c.subEffect&&"linear-slide"!==c.subEffect||c.subAnim[2]||(c.subAnim[2]=h.subAnim[2]),"[object Array]"===Object.prototype.toString.call(c.subAnim)&&(c.subAnim={show:c.subAnim,hide:c.subAnim}),"string"==typeof c.windowPosition&&(c.windowPosition=c.windowPosition.split("-")),c.windowPosition[1]||(c.windowPosition[1]=h.windowPosition[1]),0!==c.windowOffset&&!1!==c.windowOffset||(c.windowOffset=[0,0]),"match"===c.windowCorners&&("round"!==c.shape&&"rounded"!==c.shape&&"rounded-out"!==c.shape||(c.windowCorners="round")),"match"===c.windowColor&&(c.windowColor=c.color),c}function e(a){window.console&&console.log("! Super Sidebar: "+a)}function f(a){return parseInt(a,10)}function g(a){return/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(a)}var h={position:["left","center"],offset:[0,0],shape:"square",sideSpace:!1,buttonSpace:!1,labelSpace:!1,labelConnected:!1,labelEffect:"slide-out",labelAnim:"default",color:"default",overColor:"default",labelsOn:!0,subPosition:["under",100,-90,90],subSpace:!1,subEffect:"fade",subAnim:[400,"easeOutQuad",20],windowPosition:["center","18%"],windowOffset:[0,0],windowCorners:"match",windowColor:"match",windowShadow:!1,mailTo:""},i={default:[400,"easeOutQuad"],fade:[200,"easeOutQuad"],"slide-in-in":{show:[400,"easeOutQuad"],hide:[400,"swing"]}},j={build:b,destroy:c};a.fn.superSidebar=function(c){"object"!=typeof c&&c?j[c]?j[c].apply(this,Array.prototype.slice.call(arguments,1)):a.error("The method "+c+" does not exist in Super Sidebar."):b.apply(this,arguments)}}(jQuery);